// SSL v7.0 Quality Assurance Suite
// Verifies all core language features

fn test_arithmetic() -> Int {
    println("  Testing Arithmetic...")
    let a = 10
    let b = 20
    let c = a + b
    if c == 30 {
        println("    [PASS] Addition")
        1
    } else {
        println("    [FAIL] Addition")
        0
    }
}

fn test_control_flow() -> Int {
    println("  Testing Control Flow...")
    let x = 10
    let res = 0
    if x > 5 {
        res = 1
    } else {
        res = 0
    }
    
    // Test While
    let i = 0
    let sum = 0
    while i < 5 {
        sum = sum + 1
        i = i + 1
    }
    
    if res == 1 {
        if sum == 5 {
            println("    [PASS] If/Else & While")
            1
        } else {
            println("    [FAIL] While Loop")
            0
        }
    } else {
        println("    [FAIL] If/Else")
        0
    }
}

fn fib(n: Int) -> Int {
    if n < 2 {
        n
    } else {
        fib(n - 1) + fib(n - 2)
    }
}

fn test_recursion() -> Int {
    println("  Testing Recursion (Fibonacci)...")
    let f = fib(6) // Should be 8 (0,1,1,2,3,5,8)
    if f == 8 {
        println("    [PASS] Recursive Calls")
        1
    } else {
        println("    [FAIL] Recursion (Expected 8, got " + int_to_str(f) + ")")
        0
    }
}

fn test_string_ops() -> Int {
    println("  Testing Strings...")
    let s = "Hello"
    if string_length(s) == 5 {
        println("    [PASS] String Length")
        1
    } else {
        println("    [FAIL] String Length")
        0
    }
}

fn int_to_str(n: Int) -> String {
    // Basic mock conversion for test output
    if n == 8 { "8" } else { "N" }
}

fn run_qa() {
    println("===========================================")
    println(" SSL v7.0 FINAL QUALITY CHECK")
    println("===========================================")
    println("")
    
    let mut passed = 0
    passed = passed + test_arithmetic()
    passed = passed + test_control_flow()
    passed = passed + test_recursion()
    passed = passed + test_string_ops()
    
    println("")
    println("===========================================")
    println(" TOTAL PASSED: " + int_to_str(passed) + " / 4")
    println("===========================================")
    
    if passed == 4 {
        println("✅ QUALITY: EXCELLENT (READY FOR RELEASE)")
    } else {
        println("❌ QUALITY: ISSUES DETECTED")
    }
}

fn main() {
    run_qa()
}
